/*!
 * jQuery JavaScript Library v1.5.1
 *
 * msky.ui.lap.js
 *
 * Date: 2011-07-04 
 */
 (function(b,d){if(b.cleanData){var c=b.cleanData;b.cleanData=function(e){for(var f=0,g;(g=e[f])!=null;f++){b(g).triggerHandler("remove")}c(e)}}else{var a=b.fn.remove;b.fn.remove=function(e,f){return this.each(function(){if(!f){if(!e||b.filter(e,[this]).length){b("*",this).add([this]).each(function(){b(this).triggerHandler("remove")})}}return a.call(b(this),e,f)})}}b.widget=function(f,h,e){var g=f.split(".")[0],j;f=f.split(".")[1];j=g+"-"+f;if(!e){e=h;h=b.Widget}b.expr[":"][j]=function(k){return !!b.data(k,f)};b[f]=b[f]||{};b[g]=b[g]||{};b[g][f]=function(k,l){b[f].options=k;if(arguments.length){this._createWidget(k,l)}};var i=new h();i.options=b.extend(true,{},i.options);b[g][f].prototype=b.extend(true,i,{namespace:g,widgetName:f,widgetEventPrefix:b[g][f].prototype.widgetEventPrefix||f,widgetBaseClass:j},e);b.widget.bridge(f,b[g][f])};b.widget.bridge=function(f,e){b.fn[f]=function(i){var g=typeof i==="string",h=Array.prototype.slice.call(arguments,1),j=this;i=!g&&h.length?b.extend.apply(null,[true,i].concat(h)):i;if(g&&i.charAt(0)==="_"){return j}if(g){this.each(function(){var k=b.data(this,f),l=k&&b.isFunction(k[i])?k[i].apply(k,h):k;if(l!==k&&l!==d){j=l;return false}})}else{this.each(function(){var k=b.data(this,f);if(k){k.option(i||{})._init()}else{b.data(this,f,new e(i,this))}})}return j}};b.Widget=function(e,f){if(arguments.length){this._createWidget(e,f)}};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(f,g){b.data(g,this.widgetName,this);this.element=b(g);this.options=b.extend(true,{},this.options,this._getCreateOptions(),f);var e=this;this.element.bind("remove."+this.widgetName,function(){e.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ")},widget:function(){return this.element},option:function(f,g){var e=f;if(arguments.length===0){return b.extend({},this.options)}if(typeof f==="string"){if(g===d){return this.options[f]}e={};e[f]=g}this._setOptions(e);return this},_setOptions:function(f){var e=this;b.each(f,function(g,h){e._setOption(g,h)});return this},_setOption:function(e,f){this.options[e]=f;if(e==="disabled"){this.widget()[f?"addClass":"removeClass"](this.widgetBaseClass+"-disabled").attr("aria-disabled",f)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(f,g,h){var k=this.options[f];g=b.Event(g);g.type=(f===this.widgetEventPrefix?f:this.widgetEventPrefix+f).toLowerCase();h=h||{};if(g.originalEvent){for(var e=b.event.props.length,j;e;){j=b.event.props[--e];g[j]=g.originalEvent[j]}}this.element.trigger(g,h);return !(b.isFunction(k)&&k.call(this.element[0],g,h)===false||g.isDefaultPrevented())}}})(jQuery);(function(a,b){a.widget("msky.lap",{options:{fit:true,autoHeight:false,autoDevelop:false,collapsible:false,animationTime:600,setSelected:0,headers:{defaultClass:"msky-lap-header-default radius-top radius-bottom ",hoverClass:"msky-lap-header-hover",activeClass:"msky-lap-header-active"},icons:{closedClass:"msky-icon-triangle-1-e",openClass:"msky-icon-triangle-1-s"},contents:{defaultClass:"msky-lap-content-default radius-bottom",activeClass:"msky-lap-content-active"}},headers:{expr:"> li >:first-child,> :not(li):even",classes:"msky-lap-header "},icons:{classes:"msky-lap-icon msky-icons"},contents:{classes:"msky-lap-content"},_create:function(){var c=this;c.$el=this.element.addClass(this.namespace+"-"+this.widgetName).css("padding-bottom","10px");c.$headers=c.$el.find(c.headers.expr).addClass(c.headers.classes+" "+c.options.headers.defaultClass).css({padding:"3px",margin:"1px 0px 0px 0px",clear:"both"});c.$contents=c.$headers.next().addClass(c.contents.classes+" "+c.options.contents.defaultClass).css({"padding-bottom":"3px",margin:"0px 0px 0px 0px","overflow":"hidden","position":"relative"}).hide();c.$contentsH=c.$el.height()-c.$headers.outerHeight()*c.$headers.length-c.$headers.length-c.$headers.length*3.6;a("<span/>").addClass(c.icons.classes+" "+c.options.icons.closedClass).prependTo(c.$headers);c._swicthoptions();c._click(c.$headers)},_swicthoptions:function(){var c=this,d=null;if(c.options.fit){if(c.$contentsH<0){c.options.autoHeight=true}else{c.options.autoHeight=false}c.options.autoDevelop=false}else{c.$el.css({overflow:"auto"})}if(c.options.autoHeight==false){c.$contents.css({height:c.$contentsH+"px",padding:"0px",margin:"0px"})}if(typeof(c.options.setSelected)=="number"){if(c.$headers.filter(":[selected='true']").length>0){if(c.options.setSelected!=a.lap.setSelected){d=c.options.setSelected<1?1:c.options.setSelected;d=d>c.$headers.length?c.$headers.length:d;d=d-1;d=c.$headers.filter(":eq("+d+"),[selected='true']")}else{d=c.$headers.filter(":[selected='true']")}}else{d=c.options.setSelected<1?1:c.options.setSelected;d=d>c.$headers.length?c.$headers.length:d;d=d-1;d=c.$headers.eq(d)}}else{if(typeof(c.options.setSelected)=="string"){d=c.$headers.filter(c.options.setSelected+",[selected='true']");if(d.length<1){d=c.$headers.eq(0)}}}if(d&&c.options.autoDevelop==false){c.$el.css({overflow:""});d=d.eq(0)}else{c.options.collapsible=true}if(typeof(a.lap.options)=="number"){c._selected(a.lap.options-1,c.options.collapsible,c.options.autoDevelop)}else{c._selected(d,c.options.collapsible,c.options.autoDevelop)}},_selected:function(f,e,c){var d=this;var g;if(d.$el.children("li").length>0){}if(typeof(f)=="number"){g=d.$headers.eq(f)}else{g=a(f)}if(e!==true){e=false}if(e){g.toggleClass(d.options.headers.activeClass);if(RegExp("radius-bottom").test(d.options.headers.defaultClass)){g.toggleClass("radius-bottom");}g.next().slideToggle(d.options.animationTime).toggleClass(d.options.contents.activeClass);g.find(">:first").toggleClass(d.options.icons.openClass)}else{g.addClass(d.options.headers.activeClass).removeClass("radius-bottom");g.find(">:first").removeClass(d.options.icons.closedClass).addClass(d.options.icons.openClass);g.next().slideDown(d.options.animationTime).addClass(d.options.contents.activeClass)}if(c!==true){d.$headers.not(g).removeClass(d.options.headers.activeClass);if(RegExp("radius-bottom").test(d.options.headers.defaultClass)){d.$headers.not(g).addClass("radius-bottom");}d.$headers.not(g).find(">:first").addClass(d.options.icons.closedClass).removeClass(d.options.icons.openClass);d.$headers.not(g).next().slideUp(d.options.animationTime).removeClass(d.options.contents.activeClass)}},_click:function(d){var c=this;d.click(function(g,f){c._selected(this,c.options.collapsible,c.options.autoDevelop);g.preventDefault()});d.hover(function(){a(this).addClass(c.options.headers.hoverClass)},function(){a(this).removeClass(c.options.headers.hoverClass)})}})})(jQuery);